<!DOCTYPE HTML>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <meta http-equiv="Content-Security-Policy" content="default-src *; style-src * 'unsafe-inline'; script-src * 'unsafe-inline' 'unsafe-eval'">
   <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
    <script src="components/loader.js"></script>
    <script src="test1.js"></script>
    <script src="sub1.js"></script>
    <link rel="stylesheet" href="components/loader.css">
    <link rel="stylesheet" href="css/style.css">
    <script>
  
    </script>
</head>
<body>
<script>

function tasu(){
    var num1=document.keisan.elements[0].value;
    var maime=String(num1.slice(-2));
    var deban=parseInt(num1.slice(0,1));
    var ad=new Date();
    ad.setFullYear(2016, 2, 6);
    ad.setHours(0, 0, 0, 0);
    var add=new Date();
    add.setHours(0, 0, 0, 0);
    var nday=new Date(ad.getTime()+28*24*60*60*1000);
    document.getElementById("test1").textContent=num1;
    document.getElementById("test").textContent=maime;
    document.getElementById("test3").textContent=deban;
    document.getElementById("test4").textContent=hi(ad);
    document.getElementById("test5").textContent=hi(add);
    document.getElementById("test6").textContent=nday;
    document.getElementById("test7").textContent=(add.getTime()-ad.getTime())/(24*60*60*1000);
   var k = '<input type="button" value="前のページへ戻る" onclick="location.reload(true)"><table class=thin><caption style="background-color:green">個別予定表</caption>';
    k += '<tr><th bgcolor="#3DF74A">年月日</th><th bgcolor="#3DF74A">曜</th><th bgcolor="#3DF74A">予定</th></tr>'; 
     do{   
      day = new Date(hi(add));//iには'2007/5/5':'PHP攻略完了'の形式の前の方の文字列が入っている。
      w = week[day.getDay()];//曜日を取得
        var aq=parseInt(deban+maime);
      switch(day.getDay()){
           case 0:
               var c="<tr bgcolor='red'>";
               var job=nichiyo[aq];
               break;
           case 6:
               var c="<tr bgcolor='aqua'>";
               var job=doyo[aq];
               break;
           default:
               var c="<tr bgcolor='white'>";
               var job=ar[aq];
               break;
       }
    //var aq=parseInt(deban+maime);
    if (job=="   "){job="白";}
    if (job==undefined){job="休み";}
       k += c+'<th>' + hi(add) + '</th><td>' + w + '</td><td>' +deban+maime+" "+job +'</td></tr>';
      if (((add.getTime()-ad.getTime())/(24*60*60*1000))%28!=0){deban+=1;}else{deban=deban;}
      aday(add);
      }while(deban<8);
      maime=(parseInt(maime, 10))%48+1;
      if (maime<10){maime="0"+maime;}
     for(j=1;j<16;j++){
     for (i=1;i<8;i++){
         day=new Date(hi(add));
         w=week[day.getDay()];
         
         if (((add.getTime()-ad.getTime())/(24*60*60*1000))%28==0){
             var aq=(""+i+maime);
             switch(day.getDay()){
           case 0:
               var c="<tr bgcolor='red'>";
               var job=nichiyo[aq];
               break;
           case 6:
               var c="<tr bgcolor='aqua'>";
               var job=doyo[aq];
               break;
           default:
               var c="<tr bgcolor='white'>";
               var job=ar[aq];
               break;
       }
              if (job=="   "){job="白";}
         if (job==undefined){job="休み";}
       k += c+'<th>' + hi(add) + '</th><td>' + w + '</td><td>' +i+maime+" "+job +'</td></tr>';
      aday(add);
      day=new Date(hi(add));
         w=week[day.getDay()];
        
             } 
         var aq=(""+i+maime);
          switch(day.getDay()){
           case 0:
               var c="<tr bgcolor='red'>";
               var job=nichiyo[aq];
               break;
           case 6:
               var c="<tr bgcolor='aqua'>";
               var job=doyo[aq];
               break;
           default:
               var c="<tr bgcolor='white'>";
               var job=ar[aq];
               break;
       }
         if (job=="   "){job="白";}
         if (job==undefined){job="休み";}
       k += c+'<th>' + hi(add) + '</th><td>' + w + '</td><td>' +i+maime+" "+job +'</td></tr>';
      aday(add);
     }
     maime=(parseInt(maime, 10))%48+1;
     if (maime<10){maime="0"+maime;}
}
    k += '</table>';
   document.body.innerHTML = k;
}
function ta(){
  
}

</script>
<center>

<p id="test1">2</p>
<p id="test">1</p>
<p id="test3">3</p>
<p id="test4">4</p>
<p id="test5">5</p>
<p id="test6">6</p>
<p id="test7">7</p>

<form name="keisan">
<input type="number" min="100" max="748" value="428"/>
</form>
<button onclick="setYotei()">123</button>
<button onclick="tasu()">Go</button>
<button onclick="ta()">から</button><br />


</center>

</body>
</html>
